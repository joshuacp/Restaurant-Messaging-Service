<link href="../../Content/app.css" rel="stylesheet" type="text/css" /><!-- -->
<link href="../../Content/bootstrap.css" rel="stylesheet" type="text/css" /><!-- -->
<link href="../../Content/bootstrap.min.css" rel="stylesheet" type="text/css" /><!-- -->
<link href="../../Content/Site.css" rel="stylesheet" type="text/css" /><!-- -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
<script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js" type="text/javascript"></script>
<script src="../../Model/Task.js"></script>
<script src="../Scripts/Communication/Communication.js"></script>
<META HTTP-EQUIV="Pragma" CONTENT="no-cache">


<div class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/Home/Show">Shift Link</a>
        </div>
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li><a href="/Home/Show">Home</a></li>
            </ul>
        </div>
    </div>
</div>

<div class="container">
  <h1>Welcome!</h1>

  <ul class="nav nav-tabs">
    <li class="active">
      <a href="#message-tab" data-toggle="tab">
        <i class="fa fa-envelope"></i>
        &nbsp;&nbsp;MSG
      </a>
    </li>
    <li>
      <a href="#calendar-tab" data-toggle="tab">
        <i class="fa fa-calendar"></i>
        &nbsp;&nbsp;Calendar
      </a>
    </li>
    <li>
      <a href="#task-tab" data-toggle="tab">
        <i class="fa fa-check-square-o"></i>
        &nbsp;&nbsp;Tasks
      </a>
    </li>
  </ul>
  <div class="tab-content stacked-content">

    <div class="tab-pane fade active in" id="message-tab">
      <h3>Messages</h3>
      <hr><br>
    </div>

    <div class="tab-pane fade" id="calendar-tab">
      <h3>Calendar</h3>
      <hr><br>
    </div>

    <div class="tab-pane fade" id="task-tab">
      <h3 class="">Tasks</h3>
      <hr><br>

<style>
    #container {
        position: absolute;
        left: 35%;
        width: 800px;
    }
</style>
<div class="container" id="container">
    <div class="col-md-5">
                <label class="col-md-4" for="NewTask">New Task</label>
                <div class="col-md-5">
                    <input id="NewTask" type="text">
                </div>
                <button id="submit" onclick="submit()" class="btn btn btn-primary">
                    <script>
                        function submit() {
                            var com = new Communication();
                            var task = new Task();
                            console.log($('#NewTask').val());

                            task.Details = $('#NewTask').val();
                            task.Complete = false;
                            console.log(task);
                            com.doPost("/create/task", JSON.stringify(task),"Post",function(success){
                                console.log("SUCCESS");
                            });
                            console.log('done');
                        }
                    </script>
                    Create Task
                </button>
    </div>
</div>
      <hr><hr>

      <div class="table-responsive">
        <table class="table table-bordered table-highlight table-hover" id="tasktable">
          <thead>
            <tr>
              <th>Details</th>
              <th>Issuer</th>
              <th>Status</th>
            </tr>
          </thead>

          <tbody></tbody>

          <script type="text/javascript">
            var com = new Communication();
            var tasks = JSON.parse(com.doGet("/get/tasks"));
            var tbody = $('tbody');
            //foreach(Task task in tasks){
              var tr=document.createElement('tr');

              var tdDetails=document.createElement('td');
              tdDetails.appendChild(document.createTextNode("task.Details"))
              tr.appendChild(tdDetails)

              var tdIssuer=document.createElement('td');
              tdIssuer.appendChild(document.createTextNode("task.Issuer"));
              tr.appendChild(tdIssuer);

              var tdStatus=document.createElement('td');
              var checkbox = document.createElement("INPUT");
              checkbox.setAttribute("type", "checkbox");
              if(task.Status){
                checkbox.setAttribute("checked", true);
              }
              tdStatus.appendChild(checkbox);
              tdStatus.appendChild(document.createTextNode("  Complete"))
              tr.appendChild(tdStatus)

              tbody.append(tr);
            //}
          </script>

        </table>
      </div>
    </div>

  </div>
</div>

<footer class="text-center">&copy; 2014 - Shift Link, Inc.</footer>
